$def with (moduleInfos, form, keyError)  

$var title:Module Listing

<div class="container-fluid" id="main">
    <div class="row">
        <div class="col-md-12">
            <div class="row">
                <div class="col-md-7">
                    <div id="add-module-form-wrapper">
                        <h2>Add a new module</h2>
                        <p>Adds the new module into the <b>tentative mounting plan</b>.</p>
                        $if keyError is True:
                            <p style="color:red">Error: Module code already exists</p>  
                        <form id="addModForm" action="" method="post">
                            $:form.render()
                        </form>
                    </div>
                </div>

                <div class="col-md-5">
                    <div id="module-mounting-options">
                        <h2>View Module Mountings</h2>
                        <p>View your mounting plans here.</p>
                        <br>
                        <form action="/moduleMountingFixed" method="post">
                            <input class="btn btn-primary" type="submit" value="Go To Fixed Module Mountings" />
                        </form>
                        <form action="/moduleMountingTentative" method="post">
                            <input class="btn btn-primary" type="submit" value="Go To Tentative Module Mountings" />
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-12">
            <br>
            <h1 class="text-center">All Modules</h1>

            <table class="table table-bordered table-hover">
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>Name</th>
                        <th>Description</th>
                        <th>MCs</th>
                        <th>Status</th>
                        <th data-sortable="false">Actions</th>
                    </tr>
                </thead>
            $for moduleInfo in moduleInfos:
                <tbody>
                    <tr>
                        <td class="text-center">$moduleInfo[0]</td>
                        <td>$moduleInfo[1]</td>
                        <td>$moduleInfo[2]</td>
                        <td class="text-center">$moduleInfo[3]</td>
                        <td class="text-center">$moduleInfo[4]</td>
                        <td>
                            <form action="/viewModule" method="get">
                                <input type="hidden" name="code" value="$moduleInfo[0]">
                                <input type="submit" value="View Module"/>
                            </form>
                            $if moduleInfo[4][0:6] == 'Active':
                                <form action="/flagAsRemoved/$moduleInfo[0]" method="post">
                                    <input type="submit" value="Flag As Removed"/>
                                </form>
                            $elif moduleInfo[4][0:13] == 'To Be Removed':
                                <form action="/flagAsActive/$moduleInfo[0]" method="post">
                                    <input type="submit" value="Flag As Active"/>
                                </form>
                            $elif moduleInfo[4][0:3] == 'New':
                                <form action="/deleteModule/$moduleInfo[0]" method="post">
                                    <input type="submit" value="Delete Module"/>
                                </form>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>